var ue=Object.defineProperty,de=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var H=(r,e,s)=>e in r?ue(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s,A=(r,e)=>{for(var s in e||(e={}))pe.call(e,s)&&H(r,s,e[s]);if(Z)for(var s of Z(e))ge.call(e,s)&&H(r,s,e[s]);return r},$=(r,e)=>de(r,fe(e));var J=(r,e,s)=>new Promise((t,a)=>{var u=f=>{try{p(s.next(f))}catch(c){a(c)}},i=f=>{try{p(s.throw(f))}catch(c){a(c)}},p=f=>f.done?t(f.value):Promise.resolve(f.value).then(u,i);p((s=s.apply(r,e)).next())});import{B as Y,P as X,E as se,d as j,p as v,c as n,ab as ne,j as L,ct as q,k as oe,cu as ve,x as ie,cv as me,bn as he,_ as O,h as w,u as be,bf as ke,G as ye,bd as Ce,cw as xe,z as _e,b5 as Pe,cx as Se,N as R,Z as le,bQ as we,bR as Ie,$ as l,J as De,r as Oe,c0 as ze,o as Le,I as je,O as K,a7 as b,a8 as P,a9 as S,aG as Q,cy as E,ac as Fe,U as M}from"./index.bfc8a675.js";import{D as C}from"./index.a0dff202.js";import{f as N}from"./index.0a5789cb.js";var ce=Y("normal","exception","active","success"),We=Y("line","circle","dashboard"),Ne=Y("default","small"),T=function(){return{prefixCls:String,type:X.oneOf(We),percent:Number,format:{type:Function},status:X.oneOf(ce),showInfo:{type:Boolean,default:void 0},strokeWidth:Number,strokeLinecap:String,strokeColor:{type:[String,Object],default:void 0},trailColor:String,width:Number,success:{type:Object,default:function(){return{}}},gapDegree:Number,gapPosition:String,size:X.oneOf(Ne),steps:Number,successPercent:Number,title:String}};function z(r){return!r||r<0?0:r>100?100:r}function V(r){var e=r.success,s=r.successPercent,t=s;return e&&"progress"in e&&(se(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),t=e.progress),e&&"percent"in e&&(t=e.percent),t}var Be=globalThis&&globalThis.__rest||function(r,e){var s={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(s[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(s[t[a]]=r[t[a]]);return s},Ae=function(){return L(L({},T()),{prefixCls:String,direction:{type:String}})},$e=function(e){var s=[];return Object.keys(e).forEach(function(t){var a=parseFloat(t.replace(/%/g,""));isNaN(a)||s.push({key:a,value:e[t]})}),s=s.sort(function(t,a){return t.key-a.key}),s.map(function(t){var a=t.key,u=t.value;return"".concat(u," ").concat(a,"%")}).join(", ")},Te=function(e,s){var t=e.from,a=t===void 0?q.blue:t,u=e.to,i=u===void 0?q.blue:u,p=e.direction,f=p===void 0?s==="rtl"?"to left":"to right":p,c=Be(e,["from","to","direction"]);if(Object.keys(c).length!==0){var m=$e(c);return{backgroundImage:"linear-gradient(".concat(f,", ").concat(m,")")}}return{backgroundImage:"linear-gradient(".concat(f,", ").concat(a,", ").concat(i,")")}},Ee=j({name:"Line",props:Ae(),setup:function(e,s){var t=s.slots,a=v(function(){var c=e.strokeColor,m=e.direction;return c&&typeof c!="string"?Te(c,m):{background:c}}),u=v(function(){return e.trailColor?{backgroundColor:e.trailColor}:void 0}),i=v(function(){var c=e.percent,m=e.strokeWidth,d=e.strokeLinecap,o=e.size;return L({width:"".concat(z(c),"%"),height:"".concat(m||(o==="small"?6:8),"px"),borderRadius:d==="square"?0:""},a.value)}),p=v(function(){return V(e)}),f=v(function(){var c=e.strokeWidth,m=e.size,d=e.strokeLinecap,o=e.success;return{width:"".concat(z(p.value),"%"),height:"".concat(c||(m==="small"?6:8),"px"),borderRadius:d==="square"?0:"",backgroundColor:o==null?void 0:o.strokeColor}});return function(){var c;return n(ne,null,[n("div",{class:"".concat(e.prefixCls,"-outer")},[n("div",{class:"".concat(e.prefixCls,"-inner"),style:u.value},[n("div",{class:"".concat(e.prefixCls,"-bg"),style:i.value},null),p.value!==void 0?n("div",{class:"".concat(e.prefixCls,"-success-bg"),style:f.value},null):null])]),(c=t.default)===null||c===void 0?void 0:c.call(t)])}}}),Me={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},Ge=function(e){var s=oe(null);return ve(function(){var t=Date.now(),a=!1;e.value.forEach(function(u){var i,p=((i=u)===null||i===void 0?void 0:i.$el)||u;if(!!p){a=!0;var f=p.style;f.transitionDuration=".3s, .3s, .3s, .06s",s.value&&t-s.value<100&&(f.transitionDuration="0s, 0s")}}),a&&(s.value=Date.now())}),e},Re={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String},Ve=globalThis&&globalThis.__rest||function(r,e){var s={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(s[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(s[t[a]]=r[t[a]]);return s},ee=0;function te(r){return+r.replace("%","")}function re(r){return Array.isArray(r)?r:[r]}function ae(r,e,s,t){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=arguments.length>5?arguments[5]:void 0,i=50-t/2,p=0,f=-i,c=0,m=-2*i;switch(u){case"left":p=-i,f=0,c=2*i,m=0;break;case"right":p=i,f=0,c=-2*i,m=0;break;case"bottom":f=i,m=2*i;break}var d="M 50,50 m ".concat(p,",").concat(f,`
   a `).concat(i,",").concat(i," 0 1 1 ").concat(c,",").concat(-m,`
   a `).concat(i,",").concat(i," 0 1 1 ").concat(-c,",").concat(m),o=Math.PI*2*i,h={stroke:s,strokeDasharray:"".concat(e/100*(o-a),"px ").concat(o,"px"),strokeDashoffset:"-".concat(a/2+r/100*(o-a),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:d,pathStyle:h}}var Ue=j({name:"VCCircle",props:ie(Re,Me),setup:function(e){ee+=1;var s=oe(ee),t=v(function(){return re(e.percent)}),a=v(function(){return re(e.strokeColor)}),u=me(),i=he(u,2),p=i[0],f=i[1];Ge(f);var c=function(){var d=e.prefixCls,o=e.strokeWidth,h=e.strokeLinecap,k=e.gapDegree,g=e.gapPosition,x=0;return t.value.map(function(_,y){var F=a.value[y]||a.value[a.value.length-1],W=Object.prototype.toString.call(F)==="[object Object]"?"url(#".concat(d,"-gradient-").concat(s.value,")"):"",I=ae(x,_,F,o,k,g),U=I.pathString,D=I.pathStyle;x+=_;var B={key:y,d:U,stroke:W,"stroke-linecap":h,"stroke-width":o,opacity:_===0?0:1,"fill-opacity":"0",class:"".concat(d,"-circle-path"),style:D};return n("path",O({ref:p(y)},B),null)})};return function(){var m=e.prefixCls,d=e.strokeWidth,o=e.trailWidth,h=e.gapDegree,k=e.gapPosition,g=e.trailColor,x=e.strokeLinecap;e.strokeColor;var _=Ve(e,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),y=ae(0,100,g,d,h,k),F=y.pathString,W=y.pathStyle;delete _.percent;var I=a.value.find(function(D){return Object.prototype.toString.call(D)==="[object Object]"}),U={d:F,stroke:g,"stroke-linecap":x,"stroke-width":o||d,"fill-opacity":"0",class:"".concat(m,"-circle-trail"),style:W};return n("svg",O({class:"".concat(m,"-circle"),viewBox:"0 0 100 100"},_),[I&&n("defs",null,[n("linearGradient",{id:"".concat(m,"-gradient-").concat(s.value),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(I).sort(function(D,B){return te(D)-te(B)}).map(function(D,B){return n("stop",{key:B,offset:D,"stop-color":I[D]},null)})])]),n("path",U,null),c().reverse()])}}});function Xe(r){var e=r.percent,s=r.success,t=r.successPercent,a=z(V({success:s,successPercent:t}));return[a,z(z(e)-a)]}function qe(r){var e=r.success,s=e===void 0?{}:e,t=r.strokeColor,a=s.strokeColor;return[a||q.green,t||null]}var Ye=j({name:"Circle",inheritAttrs:!1,props:T(),setup:function(e,s){var t=s.slots,a=v(function(){if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),u=v(function(){var o=e.width||120;return{width:typeof o=="number"?"".concat(o,"px"):o,height:typeof o=="number"?"".concat(o,"px"):o,fontSize:"".concat(o*.15+6,"px")}}),i=v(function(){return e.strokeWidth||6}),p=v(function(){return e.gapPosition||e.type==="dashboard"&&"bottom"||"top"}),f=v(function(){return Xe(e)}),c=v(function(){return Object.prototype.toString.call(e.strokeColor)==="[object Object]"}),m=v(function(){return qe({success:e.success,strokeColor:e.strokeColor})}),d=v(function(){var o;return o={},w(o,"".concat(e.prefixCls,"-inner"),!0),w(o,"".concat(e.prefixCls,"-circle-gradient"),c.value),o});return function(){var o;return n("div",{class:d.value,style:u.value},[n(Ue,{percent:f.value,strokeWidth:i.value,trailWidth:i.value,strokeColor:m.value,strokeLinecap:e.strokeLinecap,trailColor:e.trailColor,prefixCls:e.prefixCls,gapDegree:a.value,gapPosition:p.value},null),(o=t.default)===null||o===void 0?void 0:o.call(t)])}}}),Ze=function(){return L(L({},T()),{steps:Number,size:{type:String},strokeColor:String,trailColor:String})},He=j({name:"Steps",props:Ze(),setup:function(e,s){var t=s.slots,a=v(function(){return Math.round(e.steps*((e.percent||0)/100))}),u=v(function(){return e.size==="small"?2:14}),i=v(function(){for(var p=e.steps,f=e.strokeWidth,c=f===void 0?8:f,m=e.strokeColor,d=e.trailColor,o=e.prefixCls,h=[],k=0;k<p;k+=1){var g,x=(g={},w(g,"".concat(o,"-steps-item"),!0),w(g,"".concat(o,"-steps-item-active"),k<=a.value-1),g);h.push(n("div",{key:k,class:x,style:{backgroundColor:k<=a.value-1?m:d,width:"".concat(u.value,"px"),height:"".concat(c,"px")}},null))}return h});return function(){var p;return n("div",{class:"".concat(e.prefixCls,"-steps-outer")},[i.value,(p=t.default)===null||p===void 0?void 0:p.call(t)])}}}),Je=j({name:"AProgress",props:ie(T(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",strokeLinecap:"round"}),slots:["format"],setup:function(e,s){var t=s.slots,a=be("progress",e),u=a.prefixCls,i=a.direction;se(e.successPercent==null,"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var p=v(function(){var d,o=e.type,h=e.showInfo,k=e.size,g=u.value;return d={},w(d,g,!0),w(d,"".concat(g,"-").concat(o==="dashboard"&&"circle"||o),!0),w(d,"".concat(g,"-show-info"),h),w(d,"".concat(g,"-").concat(k),k),w(d,"".concat(g,"-rtl"),i.value==="rtl"),d}),f=v(function(){var d=e.percent,o=d===void 0?0:d,h=V(e);return parseInt(h!==void 0?h.toString():o.toString(),10)}),c=v(function(){var d=e.status;return ce.indexOf(d)<0&&f.value>=100?"success":d||"normal"}),m=function(){var o=e.showInfo,h=e.format,k=e.type,g=e.percent,x=e.title,_=V(e);if(!o)return null;var y,F=h||(t==null?void 0:t.format)||function(I){return"".concat(I,"%")},W=k==="line";return h||(t==null?void 0:t.format)||c.value!=="exception"&&c.value!=="success"?y=F(z(g),z(_)):c.value==="exception"?y=W?n(ke,null,null):n(ye,null,null):c.value==="success"&&(y=W?n(Ce,null,null):n(xe,null,null)),n("span",{class:"".concat(u.value,"-text"),title:x===void 0&&typeof y=="string"?y:void 0},[y])};return function(){var d=e.type,o=e.steps,h=e.strokeColor,k=e.title,g=m(),x;d==="line"?x=o?n(He,O(O({},e),{},{strokeColor:typeof h=="string"?h:void 0,prefixCls:u.value,steps:o}),{default:function(){return[g]}}):n(Ee,O(O({},e),{},{prefixCls:u.value}),{default:function(){return[g]}}):(d==="circle"||d==="dashboard")&&(x=n(Ye,O(O({},e),{},{prefixCls:u.value}),{default:function(){return[g]}}));var _=L(L({},p.value),w({},"".concat(u.value,"-status-").concat(c.value),!0));return n("div",{class:_,title:k},[x])}}}),Ke=_e(Je);function Qe(){return Pe({url:Se.stat,method:"get"})}const G=j({__name:"index",props:$(A({},T()),{strokeColor:{type:[String,Object,Function]}}),setup(r){const e=r,s=v(()=>typeof e.strokeColor=="function"?$(A({},e),{strokeColor:e.strokeColor(e.percent)}):$(A({},e),{strokeColor:e.strokeColor}));return(t,a)=>(R(),le(l(Ke),we(Ie(l(s))),null,16))}});const et={class:"sys-server-stat-container"},tt={class:"disk-info"},rt={class:"disk-info--item"},at={class:"disk-info"},st={class:"disk-info--item"},nt={name:"SystemMonitorServe"},ot=j($(A({},nt),{setup(r){let e;const s=Oe({runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}),{runtime:t,disk:a,memory:u,cpu:i}=ze(s),p=v(()=>({size:N(a.value.size),used:N(a.value.used),available:N(a.value.available)})),f=v(()=>({total:N(u.value.total),free:N(u.value.available),used:N(u.value.total-u.value.available)})),c=v(()=>a.value.size<=0?0:Math.floor(a.value.used/a.value.size*100)),m=v(()=>u.value.total<=0?0:Math.floor((u.value.total-u.value.available)/u.value.total*100)),d=v(()=>`${i.value.manufacturer} ${i.value.brand} @ ${i.value.speed}GHz`),o=()=>J(this,null,function*(){const g=yield Qe();t.value=g.runtime,a.value=g.disk,u.value=g.memory,i.value=g.cpu});o();const h=g=>g<30?"#5cb87a":g<70?"#e6a23c":"#f53f3f",k=(g,x)=>x<=0?0:Math.floor(g/x*100);return Le(()=>{e=setInterval(o,1e4)}),je(()=>{clearInterval(e)}),(g,x)=>(R(),K("div",et,[n(l(E),{class:"stat-card",title:"\u8FD0\u884C\u73AF\u5883"},{default:b(()=>[n(l(C),{column:1,"label-style":{width:"50%"}},{default:b(()=>[n(l(C).Item,{label:"\u64CD\u4F5C\u7CFB\u7EDF"},{default:b(()=>[P(S(l(t).os),1)]),_:1}),n(l(C).Item,{label:"\u7CFB\u7EDF\u67B6\u6784"},{default:b(()=>[P(S(l(t).arch),1)]),_:1}),n(l(C).Item,{label:"Node\u7248\u672C"},{default:b(()=>[n(l(Q),{color:"processing",size:"small"},{default:b(()=>[P("v"+S(l(t).nodeVersion),1)]),_:1})]),_:1}),n(l(C).Item,{label:"NPM\u7248\u672C"},{default:b(()=>[n(l(Q),{color:"processing",size:"small"},{default:b(()=>[P("v"+S(l(t).npmVersion),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(l(E),{class:"stat-card",title:"CPU"},{default:b(()=>[n(l(C),{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}},{default:b(()=>[n(l(C).Item,{label:"\u8BE6\u7EC6"},{default:b(()=>[P(S(l(d)),1)]),_:1}),n(l(C).Item,{label:"\u8D1F\u8F7D"},{default:b(()=>[n(G,{percent:k(l(i).rawCurrentLoad,l(i).rawCurrentLoadIdle+l(i).rawCurrentLoad),"stroke-color":h},null,8,["percent"])]),_:1}),(R(!0),K(ne,null,Fe(l(i).coresLoad,(_,y)=>(R(),le(l(C).Item,{key:y,label:`\u6838\u5FC3${y+1} \u8D1F\u8F7D`},{default:b(()=>[n(G,{percent:k(_.rawLoad,_.rawLoad+_.rawLoadIdle),"stroke-color":h},null,8,["percent"])]),_:2},1032,["label"]))),128))]),_:1})]),_:1}),n(l(E),{class:"stat-card",title:"\u78C1\u76D8"},{default:b(()=>[M("div",tt,[n(l(C),{class:"disk-info--item",column:1},{default:b(()=>[n(l(C).Item,{label:"\u603B\u7A7A\u95F4"},{default:b(()=>[P(S(l(p).size),1)]),_:1}),n(l(C).Item,{label:"\u5DF2\u7528\u7A7A\u95F4"},{default:b(()=>[P(S(l(p).used),1)]),_:1}),n(l(C).Item,{label:"\u53EF\u7528\u7A7A\u95F4"},{default:b(()=>[P(S(l(p).available),1)]),_:1})]),_:1}),M("div",rt,[n(G,{type:"dashboard",percent:l(c),width:100,"stroke-color":h},null,8,["percent"])])])]),_:1}),n(l(E),{class:"stat-card",title:"\u5185\u5B58"},{default:b(()=>[M("div",at,[n(l(C),{class:"disk-info--item",column:1},{default:b(()=>[n(l(C).Item,{label:"\u603B\u5185\u5B58"},{default:b(()=>[P(S(l(f).total),1)]),_:1}),n(l(C).Item,{label:"\u5DF2\u7528\u5185\u5B58"},{default:b(()=>[P(S(l(f).used),1)]),_:1}),n(l(C).Item,{label:"\u53EF\u7528\u5185\u5B58"},{default:b(()=>[P(S(l(f).free),1)]),_:1})]),_:1}),M("div",st,[n(G,{type:"dashboard",percent:l(m),width:100,"stroke-color":h},null,8,["percent"])])])]),_:1})]))}}));var dt=De(ot,[["__scopeId","data-v-11512892"]]);export{dt as default};
