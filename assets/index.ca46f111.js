import{c as l,A as me,bv as Qe,bw as Je,k as y,r as ge,j as f,o as ye,cC as Le,cD as qe,h as V,F as Ke,C as et,p as s,d as ue,b as xe,bm as _e,bn as le,l as re,aK as tt,_ as N,ab as Ge,cE as rt,s as ne,cF as te,m as Ve,e as nt,cG as at,cH as Ue,K as Ne,P as it,G as ot,L as lt,R as ut,u as Ze,bq as ke,a$ as st,cI as ct}from"./index.bfc8a675.js";var vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},ft=vt;function ze(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},t=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),t.forEach(function(a){gt(r,a,n[a])})}return r}function gt(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var Oe=function(e,n){var t=ze({},e,n.attrs);return l(me,ze({},t,{icon:ft}),null)};Oe.displayName="RotateLeftOutlined";Oe.inheritAttrs=!1;var mt=Oe,pt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},dt=pt;function Ae(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},t=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),t.forEach(function(a){wt(r,a,n[a])})}return r}function wt(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var Me=function(e,n){var t=Ae({},e,n.attrs);return l(me,Ae({},t,{icon:dt}),null)};Me.displayName="RotateRightOutlined";Me.inheritAttrs=!1;var ht=Me,bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},Ct=bt;function De(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},t=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),t.forEach(function(a){Pt(r,a,n[a])})}return r}function Pt(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var Se=function(e,n){var t=De({},e,n.attrs);return l(me,De({},t,{icon:Ct}),null)};Se.displayName="ZoomInOutlined";Se.inheritAttrs=!1;var yt=Se,xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Ot=xt;function Re(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},t=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),t.forEach(function(a){Mt(r,a,n[a])})}return r}function Mt(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var Ie=function(e,n){var t=Re({},e,n.attrs);return l(me,Re({},t,{icon:Ot}),null)};Ie.displayName="ZoomOutOutlined";Ie.inheritAttrs=!1;var St=Ie,It="[object Number]";function jt(r){return typeof r=="number"||Qe(r)&&Je(r)==It}function Lt(r){var e=y(null),n=ge(f({},r)),t=y([]),a=function(d){e.value===null&&(t.value=[],e.value=Le(function(){var g;t.value.forEach(function(k){g=f(f({},g),k)}),f(n,g),e.value=null})),t.value.push(d)};return ye(function(){e.value&&Le.cancel(e.value)}),[n,a]}function Ee(r,e,n,t){var a=e+n,o=(n-t)/2;if(n>t){if(e>0)return V({},r,o);if(e<0&&a<t)return V({},r,-o)}else if(e<0||a>t)return V({},r,e<0?o:-o);return{}}function Nt(r,e,n,t){var a=qe(),o=a.width,d=a.height,g=null;return r<=o&&e<=d?g={x:0,y:0}:(r>o||e>d)&&(g=f(f({},Ee("x",n,r,o)),Ee("y",t,e,d))),g}var kt=globalThis&&globalThis.__rest||function(r,e){var n={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(n[t[a]]=r[t[a]]);return n},Te=Symbol("previewGroupContext"),je={provide:function(e){Ke(Te,e)},inject:function(){return et(Te,{isPreviewGroup:y(!1),previewUrls:s(function(){return new Map}),setPreviewUrls:function(){},current:y(null),setCurrent:function(){},setShowPreview:function(){},setMousePosition:function(){},registerImage:null,rootClassName:""})}},zt=ue({name:"PreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String,preview:{type:[Boolean,Object],default:!0},icons:{type:Object,default:function(){return{}}}},setup:function(e,n){var t=n.slots,a=s(function(){var c={visible:void 0,onVisibleChange:function(){},getContainer:void 0,current:0};return xe(e.preview)==="object"?Fe(e.preview,c):c}),o=ge(new Map),d=y(),g=s(function(){return a.value.visible}),k=s(function(){return a.value.getContainer}),U=function(u,S){var P,w;(w=(P=a.value).onVisibleChange)===null||w===void 0||w.call(P,u,S)},b=_e(!!g.value,{value:g,onChange:U}),O=le(b,2),E=O[0],m=O[1],I=y(null),F=s(function(){return g.value!==void 0}),Z=s(function(){return Array.from(o.keys())}),M=s(function(){return Z.value[a.value.current]}),C=s(function(){return new Map(Array.from(o).filter(function(c){var u=le(c,2),S=u[1].canPreview;return!!S}).map(function(c){var u=le(c,2),S=u[0],P=u[1].url;return[S,P]}))}),$=function(u,S){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;o.set(u,{url:S,canPreview:P})},j=function(u){d.value=u},x=function(u){I.value=u},L=function(u,S){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,w=function(){o.delete(u)};return o.set(u,{url:S,canPreview:P}),w},Y=function(u){u==null||u.stopPropagation(),m(!1),x(null)};return re(M,function(c){j(c)},{immediate:!0,flush:"post"}),tt(function(){!E.value&&F.value&&j(M.value)},{flush:"post"}),je.provide({isPreviewGroup:y(!0),previewUrls:C,setPreviewUrls:$,current:d,setCurrent:j,setShowPreview:m,setMousePosition:x,registerImage:L}),function(){var c=kt(a.value,[]);return l(Ge,null,[t.default&&t.default(),l(Ye,N(N({},c),{},{"ria-hidden":!E.value,visible:E.value,prefixCls:e.previewPrefixCls,onClose:Y,mousePosition:I.value,src:C.value.get(d.value),icons:e.icons,getContainer:k.value}),null)])}}}),$e=zt,Q={x:0,y:0},At=f(f({},rt()),{src:String,alt:String,rootClassName:String,icons:{type:Object,default:function(){return{}}}}),Dt=ue({name:"Preview",inheritAttrs:!1,props:At,emits:["close","afterClose"],setup:function(e,n){var t=n.emit,a=n.attrs,o=ge(e.icons),d=o.rotateLeft,g=o.rotateRight,k=o.zoomIn,U=o.zoomOut,b=o.close,O=o.left,E=o.right,m=y(1),I=y(0),F=Lt(Q),Z=le(F,2),M=Z[0],C=Z[1],$=function(){return t("close")},j=y(),x=ge({originX:0,originY:0,deltaX:0,deltaY:0}),L=y(!1),Y=je.inject(),c=Y.previewUrls,u=Y.current,S=Y.isPreviewGroup,P=Y.setCurrent,w=s(function(){return c.value.size}),G=s(function(){return Array.from(c.value.keys())}),z=s(function(){return G.value.indexOf(u.value)}),pe=s(function(){return S.value?c.value.get(u.value):e.src}),ae=s(function(){return S.value&&w.value>1}),W=y({wheelDirection:0}),q=function(){m.value=1,I.value=0,C(Q),t("afterClose")},se=function(){m.value++,C(Q)},p=function(){m.value>1&&m.value--,C(Q)},h=function(){I.value+=90},D=function(){I.value-=90},T=function(i){i.preventDefault(),i.stopPropagation(),z.value>0&&P(G.value[z.value-1])},R=function(i){i.preventDefault(),i.stopPropagation(),z.value<w.value-1&&P(G.value[z.value+1])},de=ne(V({},"".concat(e.prefixCls,"-moving"),L.value)),ce="".concat(e.prefixCls,"-operations-operation"),we="".concat(e.prefixCls,"-operations-icon"),ve=[{icon:b,onClick:$,type:"close"},{icon:k,onClick:se,type:"zoomIn"},{icon:U,onClick:p,type:"zoomOut",disabled:s(function(){return m.value===1})},{icon:g,onClick:h,type:"rotateRight"},{icon:d,onClick:D,type:"rotateLeft"}],fe=function(){if(e.visible&&L.value){var i=j.value.offsetWidth*m.value,_=j.value.offsetHeight*m.value,B=Ue(j.value),A=B.left,X=B.top,H=I.value%180!==0;L.value=!1;var K=Nt(H?_:i,H?i:_,A,X);K&&C(f({},K))}},he=function(i){i.button===0&&(i.preventDefault(),i.stopPropagation(),x.deltaX=i.pageX-M.x,x.deltaY=i.pageY-M.y,x.originX=M.x,x.originY=M.y,L.value=!0)},ie=function(i){e.visible&&L.value&&C({x:i.pageX-x.deltaX,y:i.pageY-x.deltaY})},be=function(i){if(!!e.visible){i.preventDefault();var _=i.deltaY;W.value={wheelDirection:_}}},Ce=function(i){!e.visible||!ae.value||(i.preventDefault(),i.keyCode===Ne.LEFT?z.value>0&&P(G.value[z.value-1]):i.keyCode===Ne.RIGHT&&z.value<w.value-1&&P(G.value[z.value+1]))},Pe=function(){e.visible&&(m.value!==1&&(m.value=1),(M.x!==Q.x||M.y!==Q.y)&&C(Q))},oe=function(){};return ye(function(){re([function(){return e.visible},L],function(){oe();var v,i,_=te(window,"mouseup",fe,!1),B=te(window,"mousemove",ie,!1),A=te(window,"wheel",be,{passive:!1}),X=te(window,"keydown",Ce,!1);try{window.top!==window.self&&(v=te(window.top,"mouseup",fe,!1),i=te(window.top,"mousemove",ie,!1))}catch(H){}oe=function(){_.remove(),B.remove(),A.remove(),X.remove(),v&&v.remove(),i&&i.remove()}},{flush:"post",immediate:!0})}),Ve(function(){oe()}),function(){var v=e.visible,i=e.prefixCls,_=e.rootClassName;return l(at,N(N({},a),{},{transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:i,onClose:$,afterClose:q,visible:v,wrapClassName:de,rootClassName:_,getContainer:e.getContainer}),{default:function(){return[l("ul",{class:"".concat(e.prefixCls,"-operations")},[ve.map(function(A){var X=A.icon,H=A.onClick,K=A.type,ee=A.disabled;return l("li",{class:ne(ce,V({},"".concat(e.prefixCls,"-operations-operation-disabled"),ee&&(ee==null?void 0:ee.value))),onClick:H,key:K},[nt(X,{class:we})])})]),l("div",{class:"".concat(e.prefixCls,"-img-wrapper"),style:{transform:"translate3d(".concat(M.x,"px, ").concat(M.y,"px, 0)")}},[l("img",{onMousedown:he,onDblclick:Pe,ref:j,class:"".concat(e.prefixCls,"-img"),src:pe.value,alt:e.alt,style:{transform:"scale3d(".concat(m.value,", ").concat(m.value,", 1) rotate(").concat(I.value,"deg)")}},null)]),ae.value&&l("div",{class:ne("".concat(e.prefixCls,"-switch-left"),V({},"".concat(e.prefixCls,"-switch-left-disabled"),z.value<=0)),onClick:T},[O]),ae.value&&l("div",{class:ne("".concat(e.prefixCls,"-switch-right"),V({},"".concat(e.prefixCls,"-switch-right-disabled"),z.value>=w.value-1)),onClick:R},[E])]}})}}}),Ye=Dt,Rt=globalThis&&globalThis.__rest||function(r,e){var n={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(n[t[a]]=r[t[a]]);return n},He=function(){return{src:String,wrapperClassName:String,wrapperStyle:{type:Object,default:void 0},rootClassName:String,prefixCls:String,previewPrefixCls:String,previewMask:{type:[Boolean,Function],default:void 0},placeholder:it.any,fallback:String,preview:{type:[Boolean,Object],default:!0},onClick:{type:Function},onError:{type:Function}}},Fe=function(e,n){var t=f({},e);return Object.keys(n).forEach(function(a){e[a]===void 0&&(t[a]=n[a])}),t},Et=0,We=ue({name:"Image",inheritAttrs:!1,props:He(),emits:["click","error"],setup:function(e,n){var t=n.attrs,a=n.slots,o=n.emit,d=s(function(){return e.prefixCls}),g=s(function(){return"".concat(d.value,"-preview")}),k=s(function(){var p={visible:void 0,onVisibleChange:function(){},getContainer:void 0};return xe(e.preview)==="object"?Fe(e.preview,p):p}),U=s(function(){return e.placeholder&&e.placeholder!==!0||a.placeholder}),b=s(function(){return k.value.visible}),O=s(function(){return k.value.getContainer}),E=s(function(){return b.value!==void 0}),m=function(h,D){var T,R;(R=(T=k.value).onVisibleChange)===null||R===void 0||R.call(T,h,D)},I=_e(!!b.value,{value:b,onChange:m}),F=le(I,2),Z=F[0],M=F[1];re(Z,function(p,h){m(p,h)});var C=y(U.value?"loading":"normal");re(function(){return e.src},function(){C.value=U.value?"loading":"normal"});var $=y(null),j=s(function(){return C.value==="error"}),x=je.inject(),L=x.isPreviewGroup,Y=x.setCurrent,c=x.setShowPreview,u=x.setMousePosition,S=x.registerImage,P=y(Et++),w=s(function(){return e.preview&&!j.value}),G=function(){C.value="normal"},z=function(h){C.value="error",o("error",h)},pe=function(h){if(!E.value){var D=Ue(h.target),T=D.left,R=D.top;L.value?(Y(P.value),u({x:T,y:R})):$.value={x:T,y:R}}L.value?c(!0):M(!0),o("click",h)},ae=function(){M(!1),E.value||($.value=null)},W=y(null);re(function(){return W},function(){C.value==="loading"&&W.value.complete&&(W.value.naturalWidth||W.value.naturalHeight)&&G()});var q=function(){};ye(function(){re([function(){return e.src},w],function(){if(q(),!L.value)return function(){};q=S(P.value,e.src,w.value),w.value||q()},{flush:"post",immediate:!0})}),Ve(q);var se=function(h){return jt(h)?h+"px":h};return function(){var p=e.prefixCls,h=e.wrapperClassName,D=e.fallback,T=e.src,R=e.placeholder,de=e.wrapperStyle,ce=e.rootClassName,we=t.width,ve=t.height,fe=t.crossorigin,he=t.decoding,ie=t.alt,be=t.sizes,Ce=t.srcset,Pe=t.usemap,oe=t.class,v=t.style,i=k.value,_=i.icons,B=i.maskClassName,A=i.src,X=Rt(i,["icons","maskClassName","src"]),H=ne(p,h,ce,V({},"".concat(p,"-error"),j.value)),K=j.value&&D?D:A!=null?A:T,ee={crossorigin:fe,decoding:he,alt:ie,sizes:be,srcset:Ce,usemap:Pe,class:ne("".concat(p,"-img"),V({},"".concat(p,"-img-placeholder"),R===!0),oe),style:f({height:ve},v)};return l(Ge,null,[l("div",{class:H,onClick:w.value?pe:function(Xe){o("click",Xe)},style:f({width:se(we),height:se(ve)},de)},[l("img",N(N(N({},ee),j.value&&D?{src:D}:{onLoad:G,onError:z,src:T}),{},{ref:W}),null),C.value==="loading"&&l("div",{"aria-hidden":"true",class:"".concat(p,"-placeholder")},[R||a.placeholder&&a.placeholder()]),a.previewMask&&w.value&&l("div",{class:["".concat(p,"-mask"),B]},[a.previewMask()])]),!L.value&&w.value&&l(Ye,N(N({},X),{},{"aria-hidden":!Z.value,visible:Z.value,prefixCls:g.value,onClose:ae,mousePosition:$.value,src:K,alt:ie,getContainer:O.value,icons:_,rootClassName:ce}),null)])}}});We.PreviewGroup=$e;var Be={rotateLeft:l(mt,null,null),rotateRight:l(ht,null,null),zoomIn:l(yt,null,null),zoomOut:l(St,null,null),close:l(ot,null,null),left:l(lt,null,null),right:l(ut,null,null)},Tt=ue({name:"AImagePreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String},setup:function(e,n){var t=n.attrs,a=n.slots,o=Ze("image",e),d=o.getPrefixCls,g=s(function(){return d("image-preview",e.previewPrefixCls)});return function(){return l($e,N(N({},f(f({},t),e)),{},{icons:Be,previewPrefixCls:g.value}),a)}}}),_t=Tt,J=ue({name:"AImage",inheritAttrs:!1,props:He(),setup:function(e,n){var t=n.slots,a=n.attrs,o=Ze("image",e),d=o.prefixCls,g=o.rootPrefixCls,k=o.configProvider,U=s(function(){var b=e.preview;if(b===!1)return b;var O=xe(b)==="object"?b:{};return f(f({icons:Be},O),{transitionName:ke(g.value,"zoom",O.transitionName),maskTransitionName:ke(g.value,"fade",O.maskTransitionName)})});return function(){var b,O=((b=k.locale)===null||b===void 0?void 0:b.Image)||st.Image,E=function(){return l("div",{class:"".concat(d.value,"-mask-info")},[l(ct,null,null),O==null?void 0:O.preview])},m=e.previewMask,I=m===void 0?t.previewMask||E:m;return l(We,N(N({},f(f(f({},a),e),{prefixCls:d.value})),{},{preview:U.value}),f(f({},t),{previewMask:typeof I=="function"?I:null}))}}});J.PreviewGroup=_t;J.install=function(r){return r.component(J.name,J),r.component(J.PreviewGroup.name,J.PreviewGroup),r};var Vt=J;export{Vt as I,He as i};
